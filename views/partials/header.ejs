<header>
    <button id="toggle-sidebar"></button>
    <span id="app-name">Mini-supermarket v.1.0.2</span>
</header>

<div id="overlay"></div>

<div id="sidebar">
    <div class="menu-item" onclick="window.location.href = '/sales'">
        <i class="fas fa-shopping-cart"></i>
        <span>Bán hàng</span>
    </div>
    <div class="menu-item" onclick="window.location.href = '/products'">
        <i class="fas fa-warehouse"></i>
        <span>Quản lý kho</span>
    </div>
    <div class="menu-item" onclick="window.location.href = '/sales/report'">
        <i class="fas fa-chart-bar"></i>
        <span>Báo cáo - Thống kê</span>
    </div>
    <div class="menu-item" onclick="window.location.href = '/sales/history'">
        <i class="fas fa-history"></i>
        <span>Lịch sử bán hàng</span>
    </div>
    <div class="menu-item" onclick="window.location.href = '/shop'">
        <i class="fas fa-store"></i>
        <span>Thông tin cửa hàng</span>
    </div>
    <div class="menu-item" onclick="window.location.href = '/update-info'">
        <i class="fas fa-user-edit"></i>
        <span>Đổi thông tin</span>
    </div>
    <div class="menu-item" onclick="window.location.href = '/admin/users'">
        <i class="fas fa-users-cog"></i>
        <span>Quản lý người dùng</span>
    </div>
    <div class="menu-item" onclick="window.location.href = '/change-password'">
        <i class="fas fa-key"></i>
        <span>Đổi mật khẩu</span>
    </div>
    <div class="menu-item" onclick="window.location.href = '/logout'">
        <i class="fas fa-sign-out-alt"></i>
        <span>Đăng xuất</span>
    </div>
</div>

<script>
    const toggleSidebar = document.getElementById('toggle-sidebar');
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');

    // Hàm mở và đóng sidebar
    function toggleSidebarMenu() {
        const isSidebarOpen = sidebar.classList.toggle('sidebar-show');
        overlay.classList.toggle('show', isSidebarOpen);

        // Lưu trạng thái vào localStorage
        localStorage.setItem('sidebarOpen', isSidebarOpen);
    }

    // Đóng sidebar khi nhấn vào overlay
    function closeSidebar() {
        sidebar.classList.remove('sidebar-show');
        overlay.classList.remove('show');

        // Cập nhật trạng thái vào localStorage
        localStorage.setItem('sidebarOpen', false);
    }

    // Khôi phục trạng thái từ localStorage khi tải trang
    function restoreSidebarState() {
        const isSidebarOpen = localStorage.getItem('sidebarOpen') === 'true';
        sidebar.classList.toggle('sidebar-show', isSidebarOpen);
        overlay.classList.toggle('show', isSidebarOpen);
    }

    // Gọi hàm khôi phục trạng thái
    restoreSidebarState();

    // Sự kiện click
    toggleSidebar.addEventListener('click', toggleSidebarMenu);
    overlay.addEventListener('click', closeSidebar);
</script>